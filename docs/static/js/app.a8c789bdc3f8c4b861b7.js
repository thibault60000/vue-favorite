webpackJsonp([1],{"2oeI":function(e,t){},Gaen:function(e,t){},Igo7:function(e,t){},KkH8:function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r("tvR6");var a=r("qBF2"),n=r.n(a),i=r("7+uW"),s=r("SjQo"),o=r.n(s),l=r("kxiW"),c=r.n(l),u=r("hnaQ"),m=(r("881v"),r("8va7")),d=r.n(m),f={data:function(){var e=this;return{items:["Accueil","Cours","Contact","Présentation","Outils","Favoris"].map(function(t){return{title:t,click:function(){return e.openMenu(t)}}}),user:""}},methods:{openMenu:function(e){switch(e){case"Accueil":this.userExist?this.$router.replace("AdminPage"):this.$router.replace("home");break;case"Cours":this.$router.replace("cours");break;case"Contact":this.$router.replace("contact");break;case"Présentation":this.$router.replace("presentation");break;case"Outils":this.$router.replace("tools");break;case"Favoris":this.$router.replace("favorites")}}},computed:{userExist:function(){return!!this.user}},created:function(){c.a.auth().currentUser&&(this.user=c.a.auth().currentUser)}},p={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"menu"}},[t("vue-3d-menu",{attrs:{title:"Menu",items:this.items}})],1)},staticRenderFns:[]},h=r("VU/8")(f,p,!1,null,null,null).exports,v={name:"App",components:{Menu:h}},_={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view"),this._v(" "),t("Menu")],1)},staticRenderFns:[]};var b=r("VU/8")(v,_,!1,function(e){r("2oeI")},null,null).exports,g=r("/ocq"),k={name:"CardList",data:function(){return{articles:[]}},firestore:function(){return{articles:K.collection("articles").orderBy("createdAt")}}},w={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"articlesList"},e._l(e.articles,function(t,a){return r("article",{key:a},[r("h2",[r("a",{attrs:{href:t.url}},[e._v(" "+e._s(t.title)+" ")])]),e._v(" "),r("h3",[e._v(" "+e._s(t.description)+" ")]),e._v(" "),r("p",{staticClass:"etiquette"},[e._v(" "+e._s(t.category)+" ")])])}))},staticRenderFns:[]};var C=r("VU/8")(k,w,!1,function(e){r("akjJ")},"data-v-c4c0600c",null).exports,$={data:function(){return{form:{title:"",description:"",url:"",category:""}}},methods:{addFavory:function(e){K.collection("articles").add({title:this.form.title,description:this.form.description,category:this.form.category,url:this.form.url,createdAt:Date.now()}).then(function(e){console.log("Nouvel objet créé, ID : ",e.id)}).catch(function(e){console.error("Erreur pendant la création : ",e)}),this.form.title=this.form.description=this.form.category=this.form.url=""}}},x={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"form",staticClass:"createForm",attrs:{model:e.form}},[r("el-form-item",{attrs:{label:"title"}},[r("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"description"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"url"}},[r("el-input",{model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"category"}},[r("el-input",{model:{value:e.form.category,callback:function(t){e.$set(e.form,"category",t)},expression:"form.category"}})],1),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.addFavory}},[e._v("Créer")])],1)},staticRenderFns:[]};var y={name:"adminPage",data:function(){return{user:"",userMail:"",users:[]}},components:{CardList:C,CreateFavorite:r("VU/8")($,x,!1,function(e){r("Igo7")},null,null).exports},computed:{userExist:function(){return!!this.user}},firestore:function(){return{users:K.collection("users").orderBy("createdAt")}},methods:{logout:function(){var e=this;c.a.auth().signOut().then(function(){e.$router.replace("login")})}},created:function(){this.user=c.a.auth().currentUser,this.userMail=c.a.auth().currentUser.email}},F={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("main",[r("nav",[e.userExist?r("div",{staticClass:"login"},[r("h1",[e._v("Bonjour "),r("span",[e._v(" "+e._s(this.userMail)+" ")])]),e._v(" "),r("el-button",{attrs:{type:"danger"},on:{click:e.logout}},[e._v("Se déconnecter")])],1):r("div",{staticClass:"login"},[r("h1",[e._v(" SourceDevDesign ")])])]),e._v(" "),r("CreateFavorite"),e._v(" "),r("CardList")],1)},staticRenderFns:[]};var U=r("VU/8")(y,F,!1,function(e){r("wL39")},"data-v-6855a3dc",null).exports,E={name:"home",data:function(){return{form:{email:"",password:""},authUser:null,user:"",dialogTableVisible:!1,dialogFormVisible:!1}},created:function(){c.a.auth().currentUser&&(this.user=c.a.auth().currentUser,this.userMail=c.a.auth().currentUser.email)},methods:{signIn:function(){var e=this;c.a.auth().signInWithEmailAndPassword(this.form.email,this.form.password).then(function(t){e.$router.replace("adminpage"),e.dialogFormVisible=!1},function(e){alert("Oops. "+e.message)})}}},A={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("main",{staticClass:"homePage"},[e._m(0),e._v(" "),r("h2",[e._v(" Veuillez vous connecter ")]),e._v(" "),r("el-form",{staticClass:"connexionForm",attrs:{model:e.form,autocomplete:"off"}},[r("el-input",{attrs:{placeholder:"E-mail"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),e._v(" "),r("el-input",{attrs:{type:"password",placeholder:"Mot de passe"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),e._v(" "),r("el-button",{staticClass:"btnConfirmForm",on:{click:e.signIn}},[e._v("Se connecter")]),e._v(" "),r("router-link",{attrs:{to:"/inscription"}},[e._v("Je souhaite m'inscrire")])],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{staticClass:"glitched"},[this._v("Bienvenue\n    "),t("div",{staticClass:"glitch-window"},[t("h1",{staticClass:"glitched"},[this._v("Bienvenue")])])])}]};var V=r("VU/8")(E,A,!1,function(e){r("KkH8")},"data-v-187f037e",null).exports,M={components:{Menu:h}},I={render:function(){var e=this.$createElement,t=this._self._c||e;return t("main",[t("div",{staticClass:"cours"},[t("Menu"),this._v(" "),t("h1",[this._v(" Voici la liste des différents cours proposés ")])],1)])},staticRenderFns:[]};var S=r("VU/8")(M,I,!1,function(e){r("rjwD")},null,null).exports,R={name:"home",data:function(){return{form:{email:"",password:""},authUser:null,user:"",dialogTableVisible:!1,dialogFormVisible:!1}},components:{CardList:C,Menu:h},created:function(){c.a.auth().currentUser&&(this.user=c.a.auth().currentUser,this.userMail=c.a.auth().currentUser.email)},methods:{signIn:function(){var e=this;c.a.auth().signInWithEmailAndPassword(this.form.email,this.form.password).then(function(t){e.$router.replace("adminpage"),e.dialogFormVisible=!1},function(e){alert("Oops. "+e.message)})}}},P={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("main",[r("Menu"),e._v(" "),r("nav",[e.userExist?r("div",{staticClass:"login"},[e._v("\n      Hello "+e._s(this.userMail)+"\n    ")]):r("div",{staticClass:"login"},[r("h1",[e._v(" Liste de mes principales sources ")]),e._v(" "),r("el-button",{attrs:{type:"danger"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("Administrateur")]),e._v(" "),r("el-dialog",{attrs:{title:"Connexion en tant qu'Administrateur",width:"30%",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-form",{attrs:{model:e.form}},[r("el-input",{attrs:{placeholder:"E-mail"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),e._v(" "),r("el-input",{attrs:{type:"password",placeholder:"Mot de passe"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("Retour")]),e._v(" "),r("el-button",{attrs:{type:"success"},on:{click:e.signIn}},[e._v("Se connecter")])],1)],1)],1)]),e._v(" "),r("CardList")],1)},staticRenderFns:[]};var j=r("VU/8")(R,P,!1,function(e){r("ueKi")},"data-v-0ad0ea06",null).exports,L={name:"signUp",data:function(){return{form:{email:"",password:""}}},methods:{signUp:function(){var e=this;c.a.auth().createUserWithEmailAndPassword(this.email,this.password).then(function(t){e.$router.replace("home")},function(e){alert("Oops. "+e.message)})}}},q={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("main",{staticClass:"inscriptionPage"},[r("h2",[e._v(" Inscription ")]),e._v(" "),r("el-form",{staticClass:"inscriptionForm",attrs:{model:e.form,autocomplete:"off"}},[r("el-form-item",{attrs:{label:"E-mail*"}},[r("el-input",{attrs:{label:"email",placeholder:"E-mail"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Mot de passe*"}},[r("el-input",{attrs:{type:"password",placeholder:"Mot de passe"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Statut*"}},[r("el-select",{attrs:{placeholder:"Selectionnez votre statut"},model:{value:e.form.statut,callback:function(t){e.$set(e.form,"statut",t)},expression:"form.statut"}},[r("el-option",{attrs:{label:"Association",value:"association"}}),e._v(" "),r("el-option",{attrs:{label:"Etudiant",value:"etudiant"}}),e._v(" "),r("el-option",{attrs:{label:"Retraité",value:"retraite"}}),e._v(" "),r("el-option",{attrs:{label:"Salarié",value:"salarie"}}),e._v(" "),r("el-option",{attrs:{label:"Sans emploi",value:"sansemploi"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"Identité*"}},[r("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"Nom"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),e._v(" "),r("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"Prénom"},model:{value:e.form.prénom,callback:function(t){e.$set(e.form,"prénom",t)},expression:"form.prénom"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Date de naissance*"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"Selectionnez une date"},model:{value:e.form.birthday,callback:function(t){e.$set(e.form,"birthday",t)},expression:"form.birthday"}})],1),e._v(" "),r("el-button",{staticClass:"btnConfirmForm",on:{click:e.signUp}},[e._v("S'inscrire")]),e._v(" "),r("router-link",{attrs:{to:"/home"}},[e._v("Mince, j'ai deja un compte")])],1)],1)},staticRenderFns:[]};var D=r("VU/8")(L,q,!1,function(e){r("Gaen")},"data-v-73d638d6",null).exports;i.default.use(g.a);var O=new g.a({routes:[{path:"*",redirect:"/home"},{path:"/",redirect:"/home"},{path:"/home",name:"Home",component:V},{path:"/cours",name:"Cours",component:S,meta:{requiresAuth:!0}},{path:"/favorites",name:"Favorites",component:j,meta:{requiresAuth:!0}},{path:"/inscription",name:"Inscription",component:D},{path:"/adminpage",name:"AdminPage",component:U,meta:{requiresAuth:!0}}]});O.beforeEach(function(e,t,r){var a=c.a.auth().currentUser,n=e.matched.some(function(e){return e.meta.requiresAuth});n&&!a?r("home"):!n&&a?r("adminpage"):r()});var B=O;r.d(t,"db",function(){return K}),i.default.config.productionTip=!1,i.default.use(n.a,{locale:o.a}),i.default.use(u.a),i.default.use(d.a);var H=void 0;c.a.initializeApp({apiKey:"AIzaSyCF0eYOihC3rJdVIpiKWPlEVxrbhX-tb2I",authDomain:"vue-favorites.firebaseapp.com",databaseURL:"https://vue-favorites.firebaseio.com",projectId:"vue-favorites",storageBucket:"vue-favorites.appspot.com",messagingSenderId:"717538122188"}),c.a.auth().onAuthStateChanged(function(e){H||(H=new i.default({el:"#app",template:"<App/>",components:{App:b},router:B}))});var K=c.a.firestore();K.settings({timestampsInSnapshots:!0})},akjJ:function(e,t){},rjwD:function(e,t){},tvR6:function(e,t){},ueKi:function(e,t){},wL39:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.a8c789bdc3f8c4b861b7.js.map